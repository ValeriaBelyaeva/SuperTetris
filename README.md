# Tetris с элементами Tricky Towers

Многоязычная реализация игры Tetris с элементами физики из Tricky Towers, использующая современную архитектуру.

## Описание

Данный проект представляет собой уникальную реализацию классической игры Tetris с добавлением физики из Tricky Towers. Особенностью проекта является использование различных языков программирования для разных компонентов системы:

1. **Python (основная логика)** - игровая логика, серверная часть, аналитика и ИИ
2. **TypeScript (клиентская часть)** - пользовательский интерфейс и взаимодействие с сервером
3. **C++ (физический движок)** - реализация физики и коллизий
4. **Go (инструменты разработки)** - утилиты для разработки и отладки

## Обзор проекта

Данный проект представляет собой уникальную реализацию классической игры Tetris с добавлением физики из Tricky Towers. Особенностью проекта является использование различных языков программирования для разных компонентов системы:

1. **Python (основная логика)** - игровая логика, серверная часть, аналитика и ИИ
2. **TypeScript (клиентская часть)** - пользовательский интерфейс и взаимодействие с сервером
3. **C++ (физический движок)** - реализация физики и коллизий
4. **Go (инструменты разработки)** - утилиты для разработки и отладки

## Особенности игры

- **Реалистичная физика блоков**: блоки подчиняются законам физики, могут падать и разрушать конструкцию
- **Заклинания**: светлые и темные заклинания для укрепления башни или создания проблем противникам
- **Многопользовательский режим**: соревнование с другими игроками или ИИ
- **Различные режимы игры**: гонка, выживание и головоломка
- **Сложная многоязычная архитектура**: использование различных языков программирования

## Быстрый старт с Docker Compose

Самый простой способ запустить игру - использовать Docker Compose:

```bash
# Клонировать репозиторий
git clone https://github.com/username/tetris-tricky-towers.git
cd tetris-tricky-towers

# Запустить все компоненты
docker-compose up
```

После запуска, игра будет доступна по адресу: http://localhost:3000

## Системные требования для Docker

- Docker 20.10 или выше
- Docker Compose 2.0 или выше
- 4 ГБ оперативной памяти
- 10 ГБ свободного места на диске
- Современный веб-браузер с поддержкой WebGL

## Ручная установка и запуск

Если вы предпочитаете установить и запустить игру без Docker, следуйте инструкциям для каждого компонента:

### 1. Установка зависимостей

#### Общие зависимости
```bash
# Linux (Ubuntu/Debian)
sudo apt-get update
sudo apt-get install -y build-essential cmake git

# macOS
brew install cmake git

# Windows
# Установите Git, CMake и Visual Studio с поддержкой C++
```

#### Специфические зависимости для каждого компонента

- **C++ физический движок**
  ```bash
  # Linux
  sudo apt-get install -y build-essential cmake
  
  # macOS
  brew install cmake
  
  # Windows
  # Установите CMake и Visual Studio с поддержкой C++
  ```

- **Python игровая логика**
  ```bash
  # Все платформы
  pip install -r src/python_logic/requirements.txt
  ```

- **TypeScript клиентская часть**
  ```bash
  # Все платформы
  cd src/typescript_client
  npm install
  ```

- **Go инструменты разработки**
  ```bash
  # Все платформы
  # Установите Go с официального сайта
  cd src/go_tools
  go mod download
  ```

### 2. Сборка проекта

```bash
# Запустите скрипт сборки
./build.sh
```

### 3. Запуск игры

```bash
# Запустите скрипт запуска
./dist/start.sh  # Linux/macOS
./dist/start.bat  # Windows
```

## Структура проекта

```
src/
├── python_server/     # Серверная часть на Python
├── python_logic/      # Игровая логика на Python
├── python_analytics/  # Система аналитики на Python
├── python_ai/         # ИИ на Python
├── typescript_client/ # Клиентская часть на TypeScript
├── cpp_physics/       # Физический движок на C++
├── go_tools/          # Инструменты разработки на Go
└── common_utils/      # Общие утилиты на Python
```

## Архитектура проекта

Проект использует сложную многоязычную архитектуру с различными механизмами межъязыкового взаимодействия:

1. **REST API** - для взаимодействия между компонентами
2. **WebSocket** - для реального времени взаимодействия между клиентом и сервером
3. **FFI (Foreign Function Interface)** - для взаимодействия между C++ и Python
4. **Message Queue** - для асинхронного взаимодействия между компонентами
5. **Shared Memory** - для высокопроизводительного обмена данными

Подробное описание архитектуры можно найти в файле [docs/architecture.md](docs/architecture.md).

## Разработка и тестирование

### Запуск тестов

```bash
# Запуск интеграционных тестов
cd tests
python run_integration_tests.py

# Запуск полного системного теста
./system_test.sh
```

### Добавление новых компонентов

Для добавления новых компонентов следуйте инструкциям в документации по интеграции [docs/integration.md](docs/integration.md).

## Важное примечание о зависимостях

Из архива проекта были исключены следующие тяжеловесные компоненты:

1. Node modules (node_modules) для TypeScript клиента
2. Скомпилированные бинарные файлы
3. Кэши и временные файлы

Для установки JavaScript зависимостей выполните:
```bash
cd src/typescript_client
npm install
```

Для сборки всех компонентов выполните:
```bash
./build.sh
```

## Лицензия

MIT

## Авторы

Manus AI

## Установка и запуск

### Предварительные требования

- Python 3.8+
- Node.js 14+
- Go 1.16+
- C++ компилятор (GCC/Clang)
- Docker и Docker Compose

### Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/username/tetris-tricky-towers.git
cd tetris-tricky-towers
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
cd src/typescript_client && npm install
```

3. Соберите проект:
```bash
./build.sh
```

### Запуск

1. Запустите все компоненты:
```bash
./start.sh
```

2. Откройте браузер и перейдите по адресу:
```
http://localhost:3000
```

## Архитектура

### Механизмы взаимодействия

1. **REST API** - для взаимодействия между компонентами
2. **WebSocket** - для реального времени взаимодействия между клиентом и сервером
3. **FFI (Foreign Function Interface)** - для взаимодействия между C++ и Python
